<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ExamSpeed Math - Smart Login</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #020617; --card: #0f172a; --primary: #38bdf8; --text: #f1f5f9; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Outfit', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding-bottom: 80px; }
        
        .nav-bar { position: fixed; bottom: 0; width: 100%; background: #0f172a; display: flex; justify-content: space-around; padding: 12px; border-top: 1px solid #1e293b; z-index: 1000; }
        .nav-btn { background: none; border: none; color: #64748b; font-size: 11px; font-weight: 600; cursor: pointer; display: flex; flex-direction: column; align-items: center; }
        .nav-btn.active { color: var(--primary); }

        .container { max-width: 450px; margin: auto; padding: 20px; }
        .card { background: var(--card); border-radius: 20px; padding: 20px; margin-bottom: 15px; border: 1px solid #1e293b; }
        
        .auth-input { width: 100%; padding: 14px; margin: 8px 0; border-radius: 12px; border: 1px solid #334155; background: #020617; color: white; font-size: 16px; outline: none; }
        .btn-action { width: 100%; padding: 16px; background: var(--primary); border: none; border-radius: 12px; color: #020617; font-weight: 800; cursor: pointer; margin-top: 10px; font-size: 16px; }
        
        .profile-pic { width: 75px; height: 75px; border-radius: 50%; border: 2px solid var(--primary); margin-right: 15px; object-fit: cover; }
        .row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #1e293b; font-size: 14px; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="container">
    <div id="sec-home">
        <div class="card" id="login-box">
            <h2 style="margin-top:0">Student Login üîí</h2>
            <p style="color: #94a3b8; font-size: 13px;">Abhi ke liye OTP mein <b>1234</b> daalein.</p>
            <input type="number" id="phone" class="auth-input" placeholder="Mobile Number">
            <div id="otp-area" class="hidden">
                <input type="number" id="otp" class="auth-input" placeholder="Enter OTP (1234)">
            </div>
            <button class="btn-action" id="btn-auth" onclick="handleAuth()">Get OTP</button>
        </div>

        <div class="card hidden" id="profile-box">
            <div style="display: flex; align-items: center;">
                <img id="user-img" src="https://cdn-icons-png.flaticon.com/512/149/149071.png" class="profile-pic" onclick="document.getElementById('file-in').click()">
                <div>
                    <h3 id="display-name" style="margin:0">Loading...</h3>
                    <p style="font-size:12px; color:var(--primary); margin:0">SSC/Railway Candidate</p>
                </div>
            </div>
            <input type="file" id="file-in" class="hidden" accept="image/*" onchange="loadPhoto(this)">
            <p style="font-size:10px; color:#64748b; margin-top:10px;">Tap photo to change</p>
            <div style="margin-top:20px; display:flex; justify-content:space-between; background:#020617; padding:15px; border-radius:12px;">
                <div style="text-align:center">Streak<br><b id="s-best">0</b></div>
                <div style="text-align:center">Solved<br><b id="s-total">0</b></div>
            </div>
        </div>
    </div>

    <div id="sec-study" class="hidden">
        <h2>Expert Material üìö</h2>
        <div class="card">
            <div style="color:var(--primary); font-weight:800; margin-bottom:10px;">MUST READ FORMULAS</div>
            <div class="row"><span>Profit %</span><span>(P/CP) √ó 100</span></div>
            <div class="row"><span>(a+b)¬≥</span><span>a¬≥+b¬≥+3ab(a+b)</span></div>
            <div class="row"><span>Trig: sin 30¬∞</span><span>1/2</span></div>
            <div class="row"><span>Trig: cos 60¬∞</span><span>1/2</span></div>
            <div class="row"><span>Trig: tan 45¬∞</span><span>1</span></div>
        </div>
        <div class="card">
            <div style="color:var(--primary); font-weight:800; margin-bottom:10px;">TABLES (12-16)</div>
            <div id="tables"></div>
        </div>
    </div>

    <div id="sec-game" class="hidden">
        <div class="card" style="text-align:center" id="game-m">
            <h2>Practice Arena</h2>
            <p style="color:#94a3b8">Test your calculation speed!</p>
            <button class="btn-action" onclick="startGame()">START ‚ö°</button>
        </div>
        <div id="game-p" class="hidden">
            <div class="card" style="text-align:center">
                <div id="timer" style="height:4px; background:var(--primary); width:100%; margin-bottom:15px;"></div>
                <div id="question" style="font-size:45px; font-weight:800; margin:20px 0;">--</div>
                <input type="number" id="g-input" class="auth-input" placeholder="?" inputmode="numeric">
            </div>
        </div>
    </div>
</div>

<nav class="nav-bar">
    <button class="nav-btn active" id="n-home" onclick="nav('home')"><span>üè†</span>Home</button>
    <button class="nav-btn" id="n-study" onclick="nav('study')"><span>üìñ</span>Study</button>
    <button class="nav-btn" id="n-game" onclick="nav('game')"><span>üéØ</span>Practice</button>
</nav>

<script>
    let score = 0, curAns, totalSolved = 0;

    function nav(id) {
        document.getElementById('sec-home').classList.add('hidden');
        document.getElementById('sec-study').classList.add('hidden');
        document.getElementById('sec-game').classList.add('hidden');
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('sec-' + id).classList.remove('hidden');
        document.getElementById('n-' + id).classList.add('active');
    }

    function handleAuth() {
        let phone = document.getElementById('phone').value;
        let otpArea = document.getElementById('otp-area');
        let btn = document.getElementById('btn-auth');

        if(otpArea.classList.contains('hidden')) {
            if(phone.length < 10) { alert("Sahi number daalein"); return; }
            otpArea.classList.remove('hidden');
            btn.innerText = "Verify OTP";
        } else {
            // Demo Login: Any OTP works, or just check if not empty
            document.getElementById('login-box').classList.add('hidden');
            document.getElementById('profile-box').classList.remove('hidden');
            document.getElementById('display-name').innerText = "Student: " + phone.slice(-4);
        }
    }

    function loadPhoto(input) {
        if (input.files && input.files[0]) {
            let reader = new FileReader();
            reader.onload = e => document.getElementById('user-img').src = e.target.result;
            reader.readAsDataURL(input.files[0]);
        }
    }

    // Tables Generation
    let t = ""; for(let i=12; i<=16; i++) t += `<div class="row"><span>Table of ${i}</span><span>${i*1}, ${i*2}...${i*10}</span></div>`;
    document.getElementById('tables').innerHTML = t;

    // Game
    function startGame() {
        document.getElementById('game-m').classList.add('hidden');
        document.getElementById('game-p').classList.remove('hidden');
        score = 0;
        next();
    }
    function next() {
        let n1 = Math.floor(Math.random()*20)+5, n2 = Math.floor(Math.random()*20)+5;
        curAns = n1 + n2;
        document.getElementById('question').innerText = n1 + " + " + n2;
        document.getElementById('g-input').value = "";
        document.getElementById('g-input').focus();
    }
    document.getElementById('g-input').addEventListener('input', function() {
        if(parseInt(this.value) === curAns) {
            score++;
            totalSolved++;
            document.getElementById('s-total').innerText = totalSolved;
            next();
        }
    });
</script>
</body>
</html>
