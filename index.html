<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExamSpeed Math - Manish Sir</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide-react/0.263.1/lucide-react.min.js"></script>
    <style>
        :root {
            --bg: #0f172a;
            --card: #1e293b;
            --accent: #38bdf8;
            --neon: #22d3ee;
            --success: #22c55e;
            --gold: #fbbf24;
        }

        body {
            background: var(--bg);
            color: white;
            font-family: 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .app-container {
            width: 100%;
            max-width: 450px;
            padding: 20px;
            text-align: center;
        }

        .header h1 {
            color: var(--accent);
            letter-spacing: 2px;
            margin-bottom: 0;
            text-shadow: 0 0 10px rgba(56, 189, 248, 0.5);
        }

        .branding {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 30px;
            color: var(--neon);
        }

        .card {
            background: var(--card);
            border-radius: 24px;
            padding: 25px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            border: 1px solid rgba(255,255,255,0.1);
        }

        /* Setup UI */
        .setup-group {
            text-align: left;
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: bold;
            color: var(--accent);
        }

        select, input {
            width: 100%;
            padding: 15px;
            border-radius: 12px;
            border: 2px solid #334155;
            background: #0f172a;
            color: white;
            font-size: 16px;
            outline: none;
            box-sizing: border-box;
        }

        .btn-main {
            background: linear-gradient(135deg, #38bdf8, #0ea5e9);
            color: white;
            border: none;
            padding: 18px;
            width: 100%;
            border-radius: 15px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(14, 165, 233, 0.4);
            transition: 0.3s;
        }

        .btn-main:active { transform: scale(0.98); }

        /* Game UI */
        .stats-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: bold;
        }

        .question-box {
            font-size: 48px;
            font-weight: 800;
            margin: 40px 0;
            background: #0f172a;
            padding: 30px;
            border-radius: 20px;
            border: 2px dashed var(--accent);
        }

        .ans-input {
            font-size: 32px;
            text-align: center;
            border: 3px solid var(--accent);
            background: white;
            color: #0f172a;
        }

        /* Result UI */
        .result-icon { font-size: 60px; margin-bottom: 10px; }
        .score-big { font-size: 50px; color: var(--gold); margin: 10px 0; }
        
        .btn-whatsapp {
            background: #25d366;
            margin-top: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        #game-screen, #result-screen { display: none; }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <h1>‚ö° EXAMSPEED MATH</h1>
        <div class="branding">BY MANISH SIR</div>
    </div>

    <div id="setup-screen" class="card">
        <h3 style="margin-top:0">üéØ Practice Settings</h3>
        
        <div class="setup-group">
            <label>Mode:</label>
            <select id="mode-select">
                <option value="Addition">Addition (+)</option>
                <option value="Subtraction">Subtraction (-)</option>
                <option value="Multiplication">Multiplication (√ó)</option>
            </select>
        </div>

        <div class="setup-group">
            <label>No. of Questions:</label>
            <select id="q-limit">
                <option value="10">10 Questions</option>
                <option value="20" selected>20 Questions</option>
                <option value="50">50 Questions</option>
                <option value="999">Unlimited</option>
            </select>
        </div>

        <div class="setup-group">
            <label>Time Limit (Seconds):</label>
            <input type="number" id="t-limit" value="60">
        </div>

        <button class="btn-main" onclick="startGame()">START CHALLENGE</button>
    </div>

    <div id="game-screen" class="card">
        <div class="stats-bar">
            <span id="game-timer" style="color:var(--gold)">‚è±Ô∏è 60s</span>
            <span id="game-score" style="color:var(--accent)">üèÜ Score: 0</span>
        </div>
        <div class="question-box" id="ques-text">-- + --</div>
        <input type="number" id="user-ans" class="ans-input" placeholder="?" oninput="checkAnswer()" autoFocus>
        <p style="margin-top:20px; opacity:0.6; font-size:12px">Fast type answer to score!</p>
    </div>

    <div id="result-screen" class="card">
        <div class="result-icon">üèÜ</div>
        <h2>Final Result</h2>
        <div class="score-big" id="final-score">0</div>
        <p id="final-details" style="opacity:0.8"></p>
        
        <button class="btn-main" onclick="location.reload()">REPLAY</button>
        <button class="btn-main btn-whatsapp" onclick="shareToWhatsApp()">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" width="20"> Share on WhatsApp
        </button>
    </div>
</div>

<script>
    let score = 0, timeLeft, totalQuestions, currentQ = 0, correctAns, timerInterval, mode;

    function startGame() {
        // Get values
        mode = document.getElementById('mode-select').value;
        totalQuestions = parseInt(document.getElementById('q-limit').value);
        timeLeft = parseInt(document.getElementById('t-limit').value);
        score = 0;
        currentQ = 0;

        // UI Change
        document.getElementById('setup-screen').style.display = 'none';
        document.getElementById('game-screen').style.display = 'block';
        
        document.getElementById('game-timer').innerText = `‚è±Ô∏è ${timeLeft}s`;
        generateQuestion();
        
        timerInterval = setInterval(() => {
            timeLeft--;
            document.getElementById('game-timer').innerText = `‚è±Ô∏è ${timeLeft}s`;
            if (timeLeft <= 0) endGame();
        }, 1000);
    }

    function generateQuestion() {
        let a = Math.floor(Math.random() * 50) + 2;
        let b = Math.floor(Math.random() * 50) + 2;
        
        if(mode === 'Addition') {
            correctAns = a + b;
            document.getElementById('ques-text').innerText = `${a} + ${b}`;
        } else if(mode === 'Subtraction') {
            if(a < b) [a, b] = [b, a]; // Positive result
            correctAns = a - b;
            document.getElementById('ques-text').innerText = `${a} - ${b}`;
        } else {
            a = Math.floor(Math.random() * 15) + 2;
            b = Math.floor(Math.random() * 12) + 2;
            correctAns = a * b;
            document.getElementById('ques-text').innerText = `${a} √ó ${b}`;
        }
        
        document.getElementById('user-ans').value = '';
        document.getElementById('user-ans').focus();
    }

    function checkAnswer() {
        let val = parseInt(document.getElementById('user-ans').value);
        if (val === correctAns) {
            score++;
            currentQ++;
            document.getElementById('game-score').innerText = `üèÜ Score: ${score}`;
            
            if (currentQ >= totalQuestions) {
                endGame();
            } else {
                generateQuestion();
            }
        }
    }

    function endGame() {
        clearInterval(timerInterval);
        document.getElementById('game-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        document.getElementById('final-score').innerText = score;
        document.getElementById('final-details').innerText = `Mode: ${mode} | Solved: ${currentQ}`;
    }

    function shareToWhatsApp() {
        const text = `üî• *Maths Challenge by Manish Sir* %0A%0AMaine ExamSpeed App par *${score}* questions solve kiye! üéØ %0AKya aap mera record tod sakte hain? %0A%0APractice here: https://examspeed-math.vercel.app/`;
        window.open(`https://wa.me/?text=${text}`, '_blank');
    }
</script>

</body>
</html>
