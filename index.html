<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <title>ExamSpeed Math Quiz</title>
  <style>
    /* मौजूदा स्टाइल और लेआउट यथावत् रखने के लिए कोई नया स्टाइल नहीं जोड़ा गया */
    .hidden { display: none; }
    #result-container { /* परिणाम स्क्रीन के लिए किसी विशेष स्टाइल की आवश्यकता नहीं */ }
  </style>
</head>
<body>
  <!-- प्रेरक संदेश और काउंटर -->
  <div id="header">
    <h1>ख़ुशी से सीखें और अभ्यास जारी रखें!</h1>
    <div id="status">
      <p>अनुभव बिंदु (XP): <span id="xpCount">0</span></p>
      <p>समाधित प्रश्न: <span id="solvedCount">0</span></p>
    </div>
  </div>
  
  <!-- Revision zones (मूल संरचना बनी रही) -->
  <div id="revision-zones">
    <!-- तालिका, वर्ग, घन, सूत्र आदि के विभाग (मौजूदा HTML) -->
  </div>
  
  <!-- Quiz विषय बटन -->
  <div id="topics">
    <button id="percentageBtn">प्रतिशत</button>
    <button id="profitBtn">लाभ/हानि</button>
    <!-- अन्य विषय बटन -->
  </div>
  
  <!-- Quiz कंटेनर: प्रश्न और विकल्प -->
  <div id="quiz-container">
    <!-- प्रश्न और विकल्प को दिखाने वाला मूल कंटेंट -->
    <!-- उदाहरण स्वरूप -->
    <p id="question">प्रश्न यहाँ प्रदर्शित होगा</p>
    <ul id="options">
      <li class="option">विकल्प 1</li>
      <li class="option">विकल्प 2</li>
      <li class="option">विकल्प 3</li>
    </ul>
    <button id="next-btn">अगला</button>
  </div>
  
  <!-- परिणाम स्क्रीन, प्रारंभ में छिपी हुई -->
  <div id="result-container" class="hidden">
    <h2>परिणाम</h2>
    <p>कुल प्रश्न: <span id="total-questions">0</span></p>
    <p>सही उत्तर: <span id="correct-answers">0</span></p>
    <p>गलत उत्तर: <span id="wrong-answers">0</span></p>
    <p>अंक: <span id="final-score">0</span>/50</p>
    <p>सटीकता: <span id="accuracy">0</span>%</p>
    <p>प्रदर्शन: <span id="performance">अभ्यास की आवश्यकता</span></p>
  </div>

  <script>
    // मौजूदा डेटा और लॉजिक (50 प्रश्न/विषय) को बरकरार रखते हुए
    let currentQuestion = 0;
    const totalQuestions = 50;
    let correctCount = 0;
    let wrongCount = 0;
    let xpCount = 0;
    let solvedCount = 0;

    // उदाहरण: प्रश्न-डेटा (मूल कोड से लिया गया) 
    // let quizData = [ /* 50 प्रश्नों का डेटा */ ];

    // प्रश्न दिखाने की सुविधा (मूल लॉजिक)
    function showQuestion() {
      // मौजूदा प्रश्न डेटा दिखाने के लिए कोड
      // जैसे: document.getElementById("question").innerHTML = quizData[currentQuestion].question;
      // विकल्प भरना आदि।
    }

    // उत्तर की जाँच करना (मूल लॉजिक)
    function checkAnswer(selectedIndex) {
      // अगर सही हो:
      if (selectedIndex === /* सही उत्तर का इंडेक्स */) {
        correctCount += 1;  // सही उत्तरों की गिनती बढ़ाएं
      } else {
        wrongCount += 1;    // गलत उत्तरों की गिनती बढ़ाएं
      }
      // XP और solved का अपडेट (हर प्रश्न के बाद भी संभवतः होता है)
      // xpCount += अंक; // यदि जरूरी हो तो
      // solvedCount += 1;
    }

    // अगले प्रश्न पर जाने का बटन
    document.getElementById("next-btn").addEventListener("click", function() {
      currentQuestion++;
      if (currentQuestion >= totalQuestions) {
        // Quiz समाप्त, परिणाम दिखाएं
        showResults();
      } else {
        // अगला प्रश्न दिखाएँ
        showQuestion();
      }
    });

    // परिणाम स्क्रीन भरने और दिखाने वाला फ़ंक्शन
    function showResults() {
      // गलत उत्तरों की संख्या कुल से घटाकर निकाल सकते हैं (या अब तक इकट्ठे wrongCount देखें)
      document.getElementById("total-questions").innerHTML = totalQuestions;
      document.getElementById("correct-answers").innerHTML = correctCount;
      // यदि गलत उत्तरों को ट्रैक किया गया है:
      document.getElementById("wrong-answers").innerHTML = wrongCount;
      // यदि wrongCount न रखता हो, तो इसे इस प्रकार भी कर सकते हैं:
      // document.getElementById("wrong-answers").innerHTML = totalQuestions - correctCount;
      
      document.getElementById("final-score").innerHTML = correctCount;
      let accuracy = Math.round((correctCount / totalQuestions) * 100);
      document.getElementById("accuracy").innerHTML = accuracy;

      // प्रदर्शन के लिए प्रतिक्रिया तय करें
      let feedback = "";
      if (accuracy >= 80) {
        feedback = "उत्कृष्ट";
      } else if (accuracy >= 50) {
        feedback = "अच्छा";
      } else {
        feedback = "अभ्यास की आवश्यकता";
      }
      document.getElementById("performance").innerHTML = feedback;

      // XP और solved काउंटर अपडेट करें
      xpCount += correctCount;            // उदाहरण: प्रत्येक सही उत्तर पर 1 XP
      solvedCount += totalQuestions;     // पूरे क्विज के प्रश्नों की गिनती से जोड़ें
      document.getElementById("xpCount").innerHTML = xpCount;
      document.getElementById("solvedCount").innerHTML = solvedCount;

      // Quiz भाग को छिपाकर परिणाम भाग दिखाएँ
      document.getElementById("quiz-container").style.display = "none";
      document.getElementById("result-container").style.display = "block";
    }
  </script>
</body>
</html>
